import{r as m,f as J,g as ee,h as te,j as V,o as l,c as n,a as e,l as o,m as x,t as i,F as M,q as I,n as U,v as b,x as $,y as A,B as R,p as se,e as oe,A as ae}from"./entry.5d2a92dd.js";import{u as re}from"./vue.f36acd1f.54a6b1c5.js";import{b as le,u as ne,a as ie}from"./useLogin.b3e97f8f.js";import{_ as de}from"./_plugin-vue_export-helper.c27b6911.js";const{showToast:ce}=ee(),ue=()=>{const f=m(!1),h=m([]),w=async B=>{var L,k,j,v;f.value=!0;try{const a=await le.$_get_blogs(B);console.log(a,"code red"),h.value=((k=(L=a==null?void 0:a.data)==null?void 0:L.data)==null?void 0:k.blogs)||[]}catch(a){ce({title:"Error",message:((v=(j=a==null?void 0:a.response)==null?void 0:j.data)==null?void 0:v.message)||"Failed to fetch blogs",toastType:"error",duration:2e3})}finally{f.value=!1}};return J(()=>{w()}),{blogs:h,getBlogs:w,loading:f}},d=f=>(se("data-v-f677e3cb"),f=f(),oe(),f),ge={class:"min-h-screen bg-white"},me={class:"bg-gradient-to-r from-yellow-50 to-orange-50 border-b border-yellow-200"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3"},he={class:"flex items-center justify-between"},ve=d(()=>e("div",{class:"flex items-center space-x-2 text-amber-600"},[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),e("span",{class:"text-sm font-medium"},"Writing is for everyone. Register for Innovative Day")],-1)),pe={class:"lg:flex items-center lg:space-x-4 space-y-3 lg:space-y-0"},xe={key:2,class:"flex items-center space-x-2"},_e={class:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center"},ye={class:"text-xs font-medium text-gray-600"},be=d(()=>e("button",{class:"text-sm font-medium text-amber-700 hover:text-amber-800 transition-colors duration-200","aria-label":"Close banner"},[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),we={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ke={class:"flex flex-col lg:flex-row gap-8 py-8"},Ce={class:"flex-1 lg:order-1 order-2 lg:max-h-screen lg:overflow-y-auto",role:"main"},Se=R('<div class="border-b border-gray-200 mb-8" data-v-f677e3cb><nav class="-mb-px flex space-x-8" aria-label="Blog navigation" data-v-f677e3cb><button class="border-b-2 border-gray-900 py-2 px-1 text-sm font-medium text-gray-900" aria-current="page" data-v-f677e3cb> For you </button><button class="border-b-2 border-transparent py-2 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 transition-colors duration-200" data-v-f677e3cb> Featured </button></nav></div><div class="bg-gray-50 rounded-lg p-4 mb-8 flex items-start justify-between" data-v-f677e3cb><p class="text-sm text-gray-700 flex-1" data-v-f677e3cb> &quot;Following&quot; and your topics are now part of the new Following page, which you can find from the sidebar. </p><button class="text-sm text-gray-900 hover:text-gray-700 underline ml-4 whitespace-nowrap" data-v-f677e3cb> Okay, got it </button></div>',2),Ne={key:0,class:"space-y-8","aria-live":"polite","aria-label":"Loading blog posts"},Me=R('<div class="flex flex-col lg:flex-row lg:items-start gap-6" data-v-f677e3cb><div class="flex-1" data-v-f677e3cb><div class="flex items-center space-x-3 mb-4" data-v-f677e3cb><div class="w-6 h-6 bg-gray-200 rounded-full" data-v-f677e3cb></div><div class="h-4 bg-gray-200 rounded w-24" data-v-f677e3cb></div><div class="h-4 bg-gray-200 rounded w-20" data-v-f677e3cb></div></div><div class="space-y-3" data-v-f677e3cb><div class="h-6 bg-gray-200 rounded w-3/4" data-v-f677e3cb></div><div class="h-4 bg-gray-200 rounded w-full" data-v-f677e3cb></div><div class="h-4 bg-gray-200 rounded w-5/6" data-v-f677e3cb></div></div><div class="flex items-center space-x-4 mt-4" data-v-f677e3cb><div class="h-4 bg-gray-200 rounded w-16" data-v-f677e3cb></div><div class="h-4 bg-gray-200 rounded w-12" data-v-f677e3cb></div><div class="h-4 bg-gray-200 rounded w-8" data-v-f677e3cb></div></div></div><div class="w-full lg:w-48 h-32 bg-gray-200 rounded-lg" data-v-f677e3cb></div></div>',1),Ie=[Me],$e={key:1,class:"space-y-8"},Ae=["aria-labelledby","onClick"],Be={class:"flex flex-col lg:flex-row lg:items-start gap-6"},Le={class:"flex-1 min-w-0"},je={class:"flex items-center space-x-3 mb-4"},ze={class:"flex-shrink-0"},De={key:0,class:"w-6 h-6 rounded-full overflow-hidden"},Te=["src","alt"],Fe={key:1,class:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center"},Ve={class:"text-xs font-medium text-gray-600"},qe={class:"flex items-center space-x-2 text-sm text-gray-600 min-w-0"},Oe={class:"font-medium truncate"},Pe=d(()=>e("span",{class:"text-gray-400"},"in",-1)),Ee={class:"font-medium text-gray-700 truncate"},Ue={class:"mb-4"},Je=["id"],Re={class:"text-gray-600 text-sm lg:text-base line-clamp-2 lg:line-clamp-3"},He={class:"flex items-center justify-between"},We={class:"flex items-center space-x-4 text-sm text-gray-500"},Ge={key:0,class:"flex items-center space-x-1 text-yellow-600"},Ye=d(()=>e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),Ke=d(()=>e("span",{class:"text-xs font-medium"},"Pinned",-1)),Qe=[Ye,Ke],Xe=["datetime"],Ze={class:"flex items-center space-x-4"},et={class:"flex items-center space-x-1"},tt=d(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),st={class:"flex items-center space-x-1"},ot=d(()=>e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),at={class:"flex items-center space-x-2"},rt=["aria-label","onClick"],lt=d(()=>e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),nt={class:"sr-only"},it=["aria-label","onClick"],dt=d(()=>e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),ct={class:"text-sm text-gray-500"},ut={class:"flex flex-wrap gap-2 mt-4"},gt={class:"flex-shrink-0 order-first lg:order-last"},mt={class:"w-full lg:w-48 h-32 lg:h-24 rounded-lg overflow-hidden bg-gray-100"},ft=["src","alt"],ht={key:1,class:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"},vt=d(()=>e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),pt=[vt],xt={class:"lg:w-80 lg:order-2 order-1 flex-shrink-0 lg:sticky lg:top-8 lg:h-fit",role:"complementary"},_t={class:"bg-white border border-gray-200 rounded-lg p-6 mb-6"},yt=d(()=>e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Categories",-1)),bt={class:"flex flex-wrap gap-2"},wt=["onClick"],kt=["onClick"],Ct={class:"bg-white rounded-lg p-8 max-w-md w-full mx-4"},St={class:"flex justify-between items-center mb-6"},Nt={class:"text-2xl font-bold text-gray-900"},Mt=d(()=>e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),It=[Mt],$t=["onSubmit"],At={class:"space-y-4"},Bt={key:0,class:"grid grid-cols-2 gap-4"},Lt=d(()=>e("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"}," First Name ",-1)),jt=d(()=>e("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"}," Last Name ",-1)),zt=d(()=>e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"}," Email ",-1)),Dt=d(()=>e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," Password ",-1)),Tt=["disabled"],Ft={class:"mt-6 text-center"},Vt=te({__name:"index",setup(f){const{blogs:h,loading:w}=ue(),{register:B,loading:L}=ne(),{login:k,loading:j}=ie(),v=m(!1),a=m("login"),C=m(!1),_=m(null),S=V(()=>!!_.value),c=m({firstName:"",lastName:"",email:"",password:""}),p=m("all");m(["Fitness","Data Structures","Nft","Rust","Self","Self Improvement","Python"]);const H=V(()=>{if(!h.value)return[];const r=h.value.flatMap(s=>s.categories||[]);return[...new Set(r)]}),W=V(()=>h.value?p.value==="all"?h.value:h.value.filter(r=>r.categories&&r.categories.includes(p.value)):[]);J(()=>{const r=localStorage.getItem("auth_token"),s=localStorage.getItem("user_data");if(r&&s)try{_.value=JSON.parse(s)}catch(u){console.error("Error parsing user data:",u),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}});const z=r=>{a.value=r,v.value=!0,T()},D=()=>{v.value=!1,T()},G=()=>{a.value=a.value==="login"?"signup":"login",T()},T=()=>{c.value={firstName:"",lastName:"",email:"",password:""}},Y=async()=>{C.value=!0;try{const r=a.value==="login"?"/api/auth/login":"/api/auth/signup",s=a.value==="login"?{email:c.value.email,password:c.value.password}:c.value;a.value==="login"&&await k(s).then(u=>{localStorage.setItem("auth_token",u.token),localStorage.setItem("user_data",JSON.stringify(u.user))}),a.value==="signup"&&await B(s).then(u=>{localStorage.setItem("auth_token",u.token),localStorage.setItem("user_data",JSON.stringify(u.user))}),D()}catch(r){console.error("Authentication error:",r)}finally{C.value=!1}},K=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),_.value=null},q=()=>S.value?!0:(z("login"),!1),O=r=>{ae(`/blog/${r}`)},Q=async r=>{if(q())try{await $fetch(`/api/blogs/${r}/like`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),await refreshData()}catch(s){console.error("Error toggling like:",s)}},X=r=>{q()&&O(r)},Z=r=>{const s=new Date(r),N=new Date().getTime()-s.getTime(),g=Math.floor(N/(1e3*60*60*24));return g===0?"Today":g===1?"Yesterday":g<7?`${g} days ago`:g<30?`${Math.floor(g/7)} weeks ago`:g<365?`${Math.floor(g/30)} months ago`:s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return re({title:"Blog - Latest Articles and Insights",meta:[{name:"description",content:"Discover the latest articles and insights on web development, technology, and more."}]}),(r,s)=>{var u,N,g,P;return l(),n("div",ge,[e("div",me,[e("div",fe,[e("div",he,[ve,e("div",pe,[o(S)?x("",!0):(l(),n("button",{key:0,onClick:s[0]||(s[0]=t=>z("signup")),class:"px-4 py-2 bg-black text-white rounded-full text-sm font-medium hover:bg-gray-800 transition-colors duration-200"}," Create Account ")),o(S)?x("",!0):(l(),n("button",{key:1,onClick:s[1]||(s[1]=t=>z("login")),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-50 transition-colors duration-200"}," Sign In ")),o(S)?(l(),n("div",xe,[e("div",_e,[e("span",ye,i((N=(u=o(_))==null?void 0:u.firstName)==null?void 0:N.charAt(0))+i((P=(g=o(_))==null?void 0:g.lastName)==null?void 0:P.charAt(0)),1)]),e("button",{onClick:K,class:"text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200"}," Sign Out ")])):x("",!0),be])])])]),e("div",we,[e("div",ke,[e("main",Ce,[Se,o(w)?(l(),n("div",Ne,[(l(),n(M,null,I(3,t=>e("div",{key:t,class:"animate-pulse"},Ie)),64))])):(l(),n("div",$e,[(l(!0),n(M,null,I(o(W),t=>{var F,E;return l(),n("article",{key:t.id,class:"group cursor-pointer hover:bg-gray-50 hover:rounded-lg hover:p-4 transition-all duration-200","aria-labelledby":`blog-title-${t.id}`,role:"article",onClick:y=>O(t._id)},[e("div",Be,[e("div",Le,[e("div",je,[e("div",ze,[t.author.avatar?(l(),n("div",De,[e("img",{src:t.author.avatar,alt:`${t.author.firstName} ${t.author.lastName}`,class:"w-full h-full object-cover"},null,8,Te)])):(l(),n("div",Fe,[e("span",Ve,i(t.author.firstName.charAt(0))+i(t.author.lastName.charAt(0)),1)]))]),e("div",qe,[e("span",Oe,i(t.author.firstName)+" "+i(t.author.lastName),1),Pe,e("span",Ee,i(t.categories[0]),1)])]),e("div",Ue,[e("h2",{id:`blog-title-${t.id}`,class:"text-lg lg:text-xl font-bold text-gray-900 mb-2 leading-tight group-hover:text-gray-700 transition-colors duration-200"},i(t.title),9,Je),e("p",Re,i(t.excerpt),1)]),e("div",He,[e("div",We,[t.isPinned?(l(),n("div",Ge,Qe)):x("",!0),e("time",{datetime:t.publishedAt,class:"whitespace-nowrap"},i(Z(t.publishedAt)),9,Xe),e("div",Ze,[e("span",et,[tt,e("span",null,i(t.viewCount||0),1)]),e("span",st,[ot,e("span",null,i(t.readTime)+" min read",1)])])]),e("div",at,[e("button",{class:"p-1 rounded-full hover:bg-gray-200 transition-colors duration-200","aria-label":`View comments for ${t.title}`,onClick:b(y=>X(t._id),["stop"])},[lt,e("span",nt,i(((F=t.comments)==null?void 0:F.length)||0)+" comments",1)],8,rt),e("button",{class:"p-1 rounded-full hover:bg-gray-200 transition-colors duration-200 flex items-center space-x-1","aria-label":`Like ${t.title}`,onClick:b(y=>Q(t.id),["stop"])},[dt,e("span",ct,i(((E=t.likes)==null?void 0:E.length)||0),1)],8,it)])]),e("div",ut,[(l(!0),n(M,null,I(t.tags.slice(0,3),y=>(l(),n("span",{key:y,class:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium hover:bg-gray-200 transition-colors duration-200 cursor-pointer",onClick:s[2]||(s[2]=b(()=>{},["stop"]))},i(y),1))),128))])]),e("div",gt,[e("div",mt,[t.featuredImage&&!t.featuredImage.includes("example.com")?(l(),n("img",{key:0,src:t.featuredImage,alt:t.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,ft)):(l(),n("div",ht,pt))])])])],8,Ae)}),128))]))]),e("aside",xt,[e("div",_t,[yt,e("div",bt,[e("button",{onClick:s[3]||(s[3]=t=>p.value="all"),class:U(["px-3 py-2 rounded-full text-sm font-medium transition-colors duration-200",o(p)==="all"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," All ",2),(l(!0),n(M,null,I(o(H),t=>(l(),n("button",{key:t,onClick:F=>p.value=t,class:U(["px-3 py-2 rounded-full text-sm font-medium transition-colors duration-200",o(p)===t?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},i(t),11,wt))),128))])])])])]),o(v)?(l(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:b(D,["self"])},[e("div",Ct,[e("div",St,[e("h2",Nt,i(o(a)==="login"?"Welcome back":"Join us today"),1),e("button",{onClick:D,class:"text-gray-400 hover:text-gray-600 transition-colors duration-200"},It)]),e("form",{onSubmit:b(Y,["prevent"])},[e("div",At,[o(a)==="signup"?(l(),n("div",Bt,[e("div",null,[Lt,$(e("input",{id:"firstName","onUpdate:modelValue":s[4]||(s[4]=t=>o(c).firstName=t),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[A,o(c).firstName]])]),e("div",null,[jt,$(e("input",{id:"lastName","onUpdate:modelValue":s[5]||(s[5]=t=>o(c).lastName=t),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[A,o(c).lastName]])])])):x("",!0),e("div",null,[zt,$(e("input",{id:"email","onUpdate:modelValue":s[6]||(s[6]=t=>o(c).email=t),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[A,o(c).email]])]),e("div",null,[Dt,$(e("input",{id:"password","onUpdate:modelValue":s[7]||(s[7]=t=>o(c).password=t),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[A,o(c).password]])])]),e("button",{type:"submit",disabled:o(C),class:"w-full mt-6 px-4 py-2 bg-black text-white rounded-md font-medium hover:bg-gray-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},i(o(C)?"Processing...":o(a)==="login"?"Sign In":"Create Account"),9,Tt)],40,$t),e("div",Ft,[e("button",{onClick:G,class:"text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200"},i(o(a)==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"),1)])])],8,kt)):x("",!0)])}}});const Ut=de(Vt,[["__scopeId","data-v-f677e3cb"]]);export{Ut as default};
