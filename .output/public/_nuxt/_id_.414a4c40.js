import{r as u,u as U,f as Y,g as R,h as Rt,i as qt,j as F,k as Ot,o as r,c,a as t,l as e,m as _,t as l,n as Pt,F as E,q as V,s as wt,v as D,d as Wt,x as S,y as I,z as Ht,T as Ct,A as J,p as Gt,e as Jt,B as Mt}from"./entry.8e9af537.js";import{u as Yt}from"./vue.f36acd1f.4bcbac6c.js";import{b as Tt,G as C,u as Kt,a as Qt}from"./useLogin.80a94a53.js";import{_ as Xt}from"./_plugin-vue_export-helper.c27b6911.js";const{showToast:Zt}=R(),te=()=>{const n=u(!1),s=u(null),x=U(),b=async()=>{var m,N,M;n.value=!0;try{const f=await Tt.$_get_blog(x.params.id);s.value=((m=f==null?void 0:f.data)==null?void 0:m.data)||{}}catch(f){Zt({title:"Error",message:((M=(N=f==null?void 0:f.response)==null?void 0:N.data)==null?void 0:M.message)||"Failed to fetch blog by ID",toastType:"error",duration:3e3})}finally{n.value=!1}};return Y(()=>{b()}),{blog:s,fetchBlogById:b,loading:n}},jt={$_create_comment:n=>{const s="/comments";return C.post(s,n)},$_create_comment_for_blog:(n,s)=>{const x=`/comments/${n}/comments`;return C.post(x,s)},$_get_comments_by_blog:n=>{const s=`/comments/blog/${n}`;return C.get(s)},$_get_comment:n=>{const s=`/comments/${n}`;return C.get(s)},$_get_replies:n=>{const s=`/comments/${n}/replies`;return C.get(s)},$_update_comment:(n,s)=>{const x=`/comments/${n}`;return C.patch(x,{content:s})},$_delete_comment:n=>{const s=`/comments/${n}`;return C.delete(s)},$_like_comment:n=>{const s=`/comments/${n}/like`;return C.post(s)},$_unlike_comment:n=>{const s=`/comments/${n}/like`;return C.delete(s)}},{showToast:ee}=R(),se=()=>{const n=u(!1),s=u([]),x=U(),b=async()=>{var m,N,M,f;n.value=!0;try{const y=await jt.$_get_comments_by_blog(x.params.id);console.log(y,"code red"),s.value=((N=(m=y==null?void 0:y.data)==null?void 0:m.data)==null?void 0:N.comments)||[]}catch(y){ee({title:"Error",message:((f=(M=y==null?void 0:y.response)==null?void 0:M.data)==null?void 0:f.message)||"Failed to fetch comments",toastType:"error",duration:2e3})}finally{n.value=!1}};return Y(()=>{b()}),{comments:s,getComments:b,loading:n}},{showToast:$t}=R(),oe=()=>{const n=u(!1),s=U();return{likeBlog:async b=>{n.value=!0;try{await Tt.$_like_blog(s.params.id),$t({title:"Success",message:"Blog liked.",toastType:"success",duration:2e3})}catch{$t({title:"Error",message:"Failed to like blog.",toastType:"error",duration:2e3})}finally{n.value=!1}},loading:n}},{showToast:Nt}=R(),ae=()=>{const n=u(!1);return{form:u({content:""}),createComment:async b=>{n.value=!0;try{const m=await jt.$_create_comment(b);return Nt({title:"Success",message:"Comment added.",toastType:"success",duration:2e3}),m.data}catch{Nt({title:"Error",message:"Failed to add comment.",toastType:"error",duration:2e3})}finally{n.value=!1}},loading:n}},d=n=>(Gt("data-v-61ab3cf1"),n=n(),Jt(),n),ne={class:"min-h-screen bg-white"},re={class:"border-b border-gray-200 sticky top-0 bg-white/95 backdrop-blur-sm z-10"},le={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ie={class:"flex items-center justify-between"},ce={class:"flex items-center space-x-4"},de=d(()=>t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),ue=[de],me=d(()=>t("div",{class:"text-lg font-bold"},"Blog",-1)),he={class:"flex items-center space-x-4"},ge={key:2,class:"flex items-center space-x-3"},_e={class:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center"},fe={class:"text-xs font-medium text-gray-600"},pe={key:0,class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},ve=Mt('<div class="animate-pulse" data-v-61ab3cf1><div class="h-4 bg-gray-200 rounded w-32 mb-8" data-v-61ab3cf1></div><div class="h-12 bg-gray-200 rounded w-3/4 mb-6" data-v-61ab3cf1></div><div class="h-6 bg-gray-200 rounded w-full mb-2" data-v-61ab3cf1></div><div class="h-6 bg-gray-200 rounded w-5/6 mb-8" data-v-61ab3cf1></div><div class="flex items-center space-x-4 mb-8" data-v-61ab3cf1><div class="w-12 h-12 bg-gray-200 rounded-full" data-v-61ab3cf1></div><div class="space-y-2" data-v-61ab3cf1><div class="h-4 bg-gray-200 rounded w-32" data-v-61ab3cf1></div><div class="h-3 bg-gray-200 rounded w-24" data-v-61ab3cf1></div></div></div></div>',1),xe=[ve],be={key:1,class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center"},ye=d(()=>t("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Article not found",-1)),ke=d(()=>t("p",{class:"text-gray-600 mb-8"},"The article you're looking for doesn't exist or has been removed.",-1)),we={key:2,class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Ce={key:0,class:"flex items-center space-x-2 mb-8"},$e=d(()=>t("svg",{class:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),Ne=d(()=>t("span",{class:"text-yellow-600 text-sm font-medium"},"Member-only story",-1)),Me=[$e,Ne],Te={class:"text-4xl lg:text-5xl font-bold text-gray-900 leading-tight mb-6"},je={key:1,class:"text-xl text-gray-600 mb-12 leading-relaxed max-w-3xl"},Se={class:"flex items-center justify-between mb-12 pb-8 border-b border-gray-200"},Ie={class:"flex items-center space-x-4"},Ae={class:"w-12 h-12 rounded-full overflow-hidden bg-gray-300"},Be=["src","alt"],Le={key:1,class:"w-full h-full flex items-center justify-center text-gray-600 font-medium"},ze={class:"flex items-center space-x-3"},Fe={class:"font-medium text-gray-900"},Ee={key:1,class:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors duration-200"},Ve={class:"flex items-center space-x-2 text-sm text-gray-500 mt-1"},De=d(()=>t("span",null,"Â·",-1)),Ue=["datetime"],Re={class:"flex items-center space-x-2"},qe=["aria-label"],Oe=["fill"],Pe=d(()=>t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)),We=[Pe],He={class:"text-sm"},Ge=d(()=>t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),Je={class:"text-sm"},Ye=d(()=>t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1)),Ke=[Ye],Qe=d(()=>t("button",{class:"p-2 rounded-full text-gray-400 hover:bg-gray-100 transition-colors duration-200"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})])],-1)),Xe={key:2,class:"mb-12"},Ze=["src","alt"],ts={class:"prose prose-lg max-w-none mb-16"},es=["innerHTML"],ss={key:3,class:"flex flex-wrap gap-2 mb-16 pt-8 border-t border-gray-200"},os={class:"border-t border-gray-200 pt-12"},as={class:"flex items-center justify-between mb-8"},ns={class:"text-2xl font-bold text-gray-900"},rs={class:"mb-12"},ls={class:"flex items-start space-x-4"},is={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},cs={class:"text-sm font-medium text-gray-600"},ds=d(()=>t("p",{class:"text-gray-500"},"What are your thoughts?",-1)),us=[ds],ms={key:0,class:"space-y-6"},hs=Mt('<div class="w-10 h-10 bg-gray-200 rounded-full" data-v-61ab3cf1></div><div class="flex-1 space-y-2" data-v-61ab3cf1><div class="h-4 bg-gray-200 rounded w-1/4" data-v-61ab3cf1></div><div class="h-4 bg-gray-200 rounded" data-v-61ab3cf1></div><div class="h-4 bg-gray-200 rounded w-3/4" data-v-61ab3cf1></div></div>',2),gs=[hs],_s={key:1,class:"space-y-8"},fs={class:"w-10 h-10 rounded-full overflow-hidden bg-gray-300"},ps=["src","alt"],vs={key:1,class:"w-full h-full flex items-center justify-center text-sm font-medium text-gray-600"},xs={class:"flex-1"},bs={class:"flex items-center space-x-2 mb-2"},ys={class:"font-medium text-gray-900"},ks={class:"text-sm text-gray-500"},ws={class:"text-gray-700 leading-relaxed mb-3"},Cs={class:"flex items-center space-x-4 text-sm text-gray-500"},$s=["onClick"],Ns=d(()=>t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),Ms=d(()=>t("button",{class:"hover:text-gray-700 transition-colors duration-200"}," Reply ",-1)),Ts={key:2,class:"text-center py-12"},js=d(()=>t("svg",{class:"w-12 h-12 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),Ss=d(()=>t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No responses yet",-1)),Is=d(()=>t("p",{class:"text-gray-500 mb-4"},"Be the first to share your thoughts on this article.",-1)),As={key:4,class:"mt-20 pt-12 border-t border-gray-200"},Bs={class:"text-2xl font-bold text-gray-900 mb-8"},Ls={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},zs=["onClick"],Fs={class:"mb-4"},Es={key:0,class:"w-full h-48 rounded-lg overflow-hidden bg-gray-100 mb-4"},Vs=["src","alt"],Ds={key:1,class:"w-full h-48 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mb-4"},Us=d(()=>t("svg",{class:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),Rs=[Us],qs={class:"text-xl font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors duration-200"},Os={class:"text-gray-600 mb-4 line-clamp-2"},Ps={class:"flex items-center space-x-4 text-sm text-gray-500"},Ws=["datetime"],Hs={class:"flex items-center space-x-1"},Gs=d(()=>t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Js={class:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Ys={class:"p-6 border-b border-gray-200"},Ks={class:"flex items-center justify-between"},Qs=d(()=>t("h3",{class:"text-lg font-semibold text-gray-900"},"Write a response",-1)),Xs=d(()=>t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Zs=[Xs],to={class:"p-6"},eo={class:"flex items-start space-x-4 mb-4"},so={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},oo={class:"text-sm font-medium text-gray-600"},ao={class:"text-sm text-gray-600"},no={class:"font-medium"},ro={class:"font-medium"},lo=["onSubmit"],io=["disabled"],co={class:"flex items-center justify-between mt-4"},uo={class:"text-sm text-gray-500"},mo={class:"flex items-center space-x-3"},ho=["disabled"],go=["disabled"],_o=["onClick"],fo={class:"bg-white rounded-lg p-8 max-w-md w-full mx-4"},po={class:"flex justify-between items-center mb-6"},vo={class:"text-2xl font-bold text-gray-900"},xo=d(()=>t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),bo=[xo],yo=["onSubmit"],ko={class:"space-y-4"},wo={key:0,class:"grid grid-cols-2 gap-4"},Co=d(()=>t("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"}," First Name ",-1)),$o=d(()=>t("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"}," Last Name ",-1)),No=d(()=>t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"}," Email ",-1)),Mo=d(()=>t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," Password ",-1)),To=["disabled"],jo={class:"mt-6 text-center"},So=Rt({__name:"[id]",setup(n){const{blog:s,fetchBlogById:x,loading:b}=te(),{comments:m,loading:N}=se(),{register:M,loading:f}=Kt(),{login:y,loading:Io}=Qt(),{likeBlog:K,loading:Ao}=oe(),{form:Bo,createComment:St,loading:Lo}=ae();U(),qt();const It=u(!1),T=u(!1),k=u(""),j=u(!1),Q=u([]),q=u(!1),p=u("login"),A=u(!1),w=u(null),$=F(()=>!!w.value),g=u({firstName:"",lastName:"",email:"",password:""}),O=F(()=>{var i,a;return!s.value||!$.value?!1:((a=s.value.likes)==null?void 0:a.includes(((i=w.value)==null?void 0:i.id)||""))||!1}),At=F(()=>{var i,a;return((a=(i=s.value)==null?void 0:i.likes)==null?void 0:a.length)||0}),X=F(()=>m.value.length||0);Y(()=>{const i=localStorage.getItem("auth_token"),a=localStorage.getItem("user_data");if(i&&a)try{w.value=JSON.parse(a)}catch(h){console.error("Error parsing user data:",h),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}});const B=i=>{p.value=i,q.value=!0,W()},P=()=>{q.value=!1,W()},Bt=()=>{p.value=p.value==="login"?"signup":"login",W()},W=()=>{g.value={firstName:"",lastName:"",email:"",password:""}},Lt=async()=>{A.value=!0;try{const i=p.value==="login"?"/api/auth/login":"/api/auth/signup",a=p.value==="login"?{email:g.value.email,password:g.value.password}:g.value;p.value==="login"&&await y(a).then(h=>{localStorage.setItem("auth_token",h.token),localStorage.setItem("user_data",JSON.stringify(h.user))}),p.value==="signup"&&await M(a).then(h=>{localStorage.setItem("auth_token",h.token),localStorage.setItem("user_data",JSON.stringify(h.user))}),P()}catch(i){console.error("Authentication error:",i)}finally{A.value=!1}},zt=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),w.value=null},L=()=>$.value?!0:(B("login"),!1),Ft=()=>{L()&&(T.value=!0)},Z=()=>{L()&&(T.value=!0)},Et=()=>{L()&&console.log("Bookmark functionality")},Vt=async()=>{if(!(!k.value.trim()||!s.value||!$.value))try{await St(k.value.trim()).then(i=>{m.value.unshift(i.data),k.value="",T.value=!1})}catch(i){console.error("Error submitting comment:",i)}finally{j.value=!1}},Dt=async i=>{if(!(!L()||!s.value))try{await $fetch(`/api/blogs/${s.value.id}/comments/${i}/like`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});const a=m.value.find(h=>h.id===i);a&&(a.likes=(a.likes||0)+1)}catch(a){console.error("Error toggling comment like:",a)}},Ut=i=>i?i.split(`

`).map(a=>`<p class="mb-6">${a.replace(/\n/g,"<br>")}</p>`).join(""):"",H=i=>{const a=new Date(i),z=new Date().getTime()-a.getTime(),v=Math.floor(z/(1e3*60*60*24));return v===0?"Today":v===1?"Yesterday":v<7?`${v} days ago`:v<30?`${Math.floor(v/7)} weeks ago`:v<365?`${Math.floor(v/30)} months ago`:a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return Ot(()=>{var i;s.value&&Yt({title:s.value.title,meta:[{name:"description",content:s.value.excerpt},{name:"keywords",content:((i=s.value.tags)==null?void 0:i.join(", "))||""}]})}),(i,a)=>{var h,z,v,tt,et,st,ot,at,nt,rt,lt,it,ct,dt,ut,mt,ht,gt,_t,ft,pt,vt,xt;return r(),c("div",ne,[t("header",re,[t("div",le,[t("div",ie,[t("div",ce,[t("button",{onClick:a[0]||(a[0]=o=>("navigateTo"in i?i.navigateTo:e(J))("/")),class:"text-gray-600 hover:text-gray-800 transition-colors duration-200"},ue),me]),t("div",he,[e($)?_("",!0):(r(),c("button",{key:0,onClick:a[1]||(a[1]=o=>B("signup")),class:"px-4 py-2 bg-black text-white rounded-full text-sm font-medium hover:bg-gray-800 transition-colors duration-200"}," Get started ")),e($)?_("",!0):(r(),c("button",{key:1,onClick:a[2]||(a[2]=o=>B("login")),class:"px-4 py-2 text-gray-700 text-sm font-medium hover:text-gray-900 transition-colors duration-200"}," Sign In ")),e($)?(r(),c("div",ge,[t("div",_e,[t("span",fe,l((z=(h=e(w))==null?void 0:h.firstName)==null?void 0:z.charAt(0))+l((tt=(v=e(w))==null?void 0:v.lastName)==null?void 0:tt.charAt(0)),1)]),t("button",{onClick:zt,class:"text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200"}," Sign Out ")])):_("",!0)])])])]),e(b)?(r(),c("div",pe,xe)):e(It)?(r(),c("div",be,[ye,ke,t("button",{onClick:a[3]||(a[3]=o=>("navigateTo"in i?i.navigateTo:e(J))("/")),class:"bg-black text-white px-6 py-3 rounded-full hover:bg-gray-800 transition-colors duration-200"}," Back to Home ")])):e(s)?(r(),c("div",we,[(et=e(s))!=null&&et.isPinned?(r(),c("div",Ce,Me)):_("",!0),t("h1",Te,l(e(s).title),1),e(s).excerpt?(r(),c("p",je,l(e(s).excerpt),1)):_("",!0),t("div",Se,[t("div",Ie,[t("div",Ae,[(st=e(s).author)!=null&&st.avatar?(r(),c("img",{key:0,src:e(s).author.avatar,alt:`${e(s).author.firstName} ${e(s).author.lastName}`,class:"w-full h-full object-cover"},null,8,Be)):(r(),c("div",Le,l((at=(ot=e(s).author)==null?void 0:ot.firstName)==null?void 0:at.charAt(0))+l((rt=(nt=e(s).author)==null?void 0:nt.lastName)==null?void 0:rt.charAt(0)),1))]),t("div",null,[t("div",ze,[t("span",Fe,l((lt=e(s).author)==null?void 0:lt.firstName)+" "+l((it=e(s).author)==null?void 0:it.lastName),1),e($)?(r(),c("button",Ee," Follow ")):(r(),c("button",{key:0,onClick:a[4]||(a[4]=o=>B("login")),class:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors duration-200"}," Follow "))]),t("div",Ve,[t("span",null,l(e(s).readTime)+" min read",1),De,t("time",{datetime:e(s).publishedAt},l(H(e(s).publishedAt)),9,Ue)])])]),t("div",Re,[t("button",{onClick:a[5]||(a[5]=(...o)=>e(K)&&e(K)(...o)),class:Pt(["flex items-center space-x-2 p-2 rounded-full transition-colors duration-200",e(O)?"text-red-500 hover:bg-red-50":"text-gray-400 hover:bg-gray-100"]),"aria-label":e(O)?"Unlike this post":"Like this post"},[(r(),c("svg",{class:"w-5 h-5",fill:e(O)?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},We,8,Oe)),t("span",He,l(e(At)),1)],10,qe),t("button",{onClick:Ft,class:"flex items-center space-x-2 p-2 rounded-full text-gray-400 hover:bg-gray-100 transition-colors duration-200","aria-label":"Add comment"},[Ge,t("span",Je,l(e(X)),1)]),t("button",{class:"p-2 rounded-full text-gray-400 hover:bg-gray-100 transition-colors duration-200",onClick:Et},Ke),Qe])]),e(s).featuredImage&&!e(s).featuredImage.includes("example.com")?(r(),c("div",Xe,[t("img",{src:e(s).featuredImage,alt:e(s).title,class:"w-full h-96 object-cover rounded-lg"},null,8,Ze)])):_("",!0),t("div",ts,[t("div",{innerHTML:Ut(e(s).content),class:"text-lg leading-relaxed text-gray-800"},null,8,es)]),e(s).tags&&e(s).tags.length>0?(r(),c("div",ss,[(r(!0),c(E,null,V(e(s).tags,o=>(r(),c("span",{key:o,class:"inline-block bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors duration-200 cursor-pointer"},l(o),1))),128))])):_("",!0),t("section",os,[t("div",as,[t("h2",ns," Responses ("+l(e(X))+") ",1)]),t("div",rs,[t("div",ls,[t("div",is,[t("span",cs,l(e($)?(dt=(ct=e(w))==null?void 0:ct.firstName)==null?void 0:dt.charAt(0):"U"),1)]),t("div",{class:"flex-1"},[t("div",{class:"w-full p-4 border border-gray-200 rounded-lg cursor-text hover:border-gray-300 transition-colors duration-200 bg-gray-50",onClick:Z},us)])])]),e(N)?(r(),c("div",ms,[(r(),c(E,null,V(3,o=>t("div",{key:o,class:"animate-pulse flex items-start space-x-4"},gs)),64))])):e(m).length>0?(r(),c("div",_s,[(r(!0),c(E,null,V(e(m),o=>{var G,bt,yt,kt;return r(),c("div",{key:o.id,class:"flex items-start space-x-4"},[t("div",fs,[(G=o==null?void 0:o.author)!=null&&G.avatar?(r(),c("img",{key:0,src:o.author.avatar,alt:o.author.name,class:"w-full h-full object-cover"},null,8,ps)):(r(),c("div",vs,l((yt=(bt=o==null?void 0:o.author)==null?void 0:bt.name)==null?void 0:yt.charAt(0)),1))]),t("div",xs,[t("div",bs,[t("span",ys,l((kt=o==null?void 0:o.author)==null?void 0:kt.name),1),t("span",ks,l(H(o==null?void 0:o.createdAt)),1)]),t("p",ws,l(o==null?void 0:o.content),1),t("div",Cs,[t("button",{onClick:zo=>Dt(o.id),class:"flex items-center space-x-1 hover:text-gray-700 transition-colors duration-200"},[Ns,t("span",null,l(o.likes||0),1)],8,$s),Ms])])])}),128))])):(r(),c("div",Ts,[js,Ss,Is,t("button",{onClick:Z,class:"bg-black text-white px-6 py-2 rounded-full hover:bg-gray-800 transition-colors duration-200"}," Write a response ")]))]),e(Q).length>0?(r(),c("section",As,[t("h2",Bs," More from "+l((ut=e(s).author)==null?void 0:ut.firstName)+" "+l((mt=e(s).author)==null?void 0:mt.lastName),1),t("div",Ls,[(r(!0),c(E,null,V(e(Q),o=>(r(),c("article",{key:o.id,class:"group cursor-pointer",onClick:G=>("navigateTo"in i?i.navigateTo:e(J))(`/blog/${o._id}`)},[t("div",Fs,[o.featuredImage&&!o.featuredImage.includes("example.com")?(r(),c("div",Es,[t("img",{src:o.featuredImage,alt:o.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Vs)])):(r(),c("div",Ds,Rs)),t("h3",qs,l(o.title),1),t("p",Os,l(o.excerpt),1),t("div",Ps,[t("time",{datetime:o.publishedAt},l(H(o.publishedAt)),9,Ws),t("span",Hs,[Gs,t("span",null,l(o.viewCount||0),1)])])])],8,zs))),128))])])):_("",!0)])):_("",!0),(r(),wt(Ct,{to:"body"},[e(T)?(r(),c("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:a[9]||(a[9]=D(o=>T.value=!1,["self"]))},[t("div",Js,[t("div",Ys,[t("div",Ks,[Qs,t("button",{onClick:a[6]||(a[6]=o=>T.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors duration-200"},Zs)])]),t("div",to,[t("div",eo,[t("div",so,[t("span",oo,l(((gt=(ht=e(w))==null?void 0:ht.firstName)==null?void 0:gt.charAt(0))||"U"),1)]),t("div",ao,[t("p",no,l(((_t=e(w))==null?void 0:_t.firstName)||"User"),1),t("p",null,[Wt("Responding to "),t("span",ro,l((pt=(ft=e(s))==null?void 0:ft.author)==null?void 0:pt.firstName)+" "+l((xt=(vt=e(s))==null?void 0:vt.author)==null?void 0:xt.lastName),1)])])]),t("form",{onSubmit:D(Vt,["prevent"])},[S(t("textarea",{"onUpdate:modelValue":a[7]||(a[7]=o=>Ht(k)?k.value=o:null),placeholder:"What are your thoughts?",class:"w-full p-4 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-black focus:border-transparent",rows:"6",disabled:e(j)},null,8,io),[[I,e(k)]]),t("div",co,[t("p",uo,l(e(k).length)+"/280 characters ",1),t("div",mo,[t("button",{type:"button",onClick:a[8]||(a[8]=o=>T.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200",disabled:e(j)}," Cancel ",8,ho),t("button",{type:"submit",disabled:!e(k).trim()||e(k).length>280||e(j),class:"bg-black text-white px-6 py-2 rounded-full hover:bg-gray-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},l(e(j)?"Publishing...":"Respond"),9,go)])])],40,lo)])])])):_("",!0)])),(r(),wt(Ct,{to:"body"},[e(q)?(r(),c("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:D(P,["self"])},[t("div",fo,[t("div",po,[t("h2",vo,l(e(p)==="login"?"Welcome back":"Join us today"),1),t("button",{onClick:P,class:"text-gray-400 hover:text-gray-600 transition-colors duration-200"},bo)]),t("form",{onSubmit:D(Lt,["prevent"])},[t("div",ko,[e(p)==="signup"?(r(),c("div",wo,[t("div",null,[Co,S(t("input",{id:"firstName","onUpdate:modelValue":a[10]||(a[10]=o=>e(g).firstName=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[I,e(g).firstName]])]),t("div",null,[$o,S(t("input",{id:"lastName","onUpdate:modelValue":a[11]||(a[11]=o=>e(g).lastName=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[I,e(g).lastName]])])])):_("",!0),t("div",null,[No,S(t("input",{id:"email","onUpdate:modelValue":a[12]||(a[12]=o=>e(g).email=o),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[I,e(g).email]])]),t("div",null,[Mo,S(t("input",{id:"password","onUpdate:modelValue":a[13]||(a[13]=o=>e(g).password=o),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"},null,512),[[I,e(g).password]])])]),t("button",{type:"submit",disabled:e(A),class:"w-full mt-6 px-4 py-2 bg-black text-white rounded-md font-medium hover:bg-gray-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},l(e(A)?"Processing...":e(p)==="login"?"Sign In":"Create Account"),9,To)],40,yo),t("div",jo,[t("button",{onClick:Bt,class:"text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200"},l(e(p)==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"),1)])])],8,_o)):_("",!0)]))])}}});const Uo=Xt(So,[["__scopeId","data-v-61ab3cf1"]]);export{Uo as default};
